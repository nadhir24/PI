(function(e){function t(t){for(var o,c,s=t[0],i=t[1],u=t[2],d=0,p=[];d<s.length;d++)c=s[d],Object.prototype.hasOwnProperty.call(n,c)&&n[c]&&p.push(n[c][0]),n[c]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);l&&l(t);while(p.length)p.shift()();return a.push.apply(a,u||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],o=!0,s=1;s<r.length;s++){var i=r[s];0!==n[i]&&(o=!1)}o&&(a.splice(t--,1),e=c(c.s=r[0]))}return e}var o={},n={newsearchbox:0},a=[];function c(t){if(o[t])return o[t].exports;var r=o[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.m=e,c.c=o,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)c.d(r,o,function(t){return e[t]}.bind(null,o));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/esv4/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=i;a.push([12,"chunk-vendors","chunk-common"]),r()})({12:function(e,t,r){e.exports=r("31ed")},"31ed":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d"),r("7db0"),r("e439"),r("3410");var o,n=r("c5e1"),a=r.n(n),c=r("7259"),s=r.n(c),i=r("8bbf"),u=r.n(i),d=r("eab7"),p=r("5880"),h=r.n(p),m=(r("ac1f"),r("5319"),r("1da1")),y=r("2909"),f=r("5530"),g=(r("96cf"),r("a15b"),r("99af"),r("fb6a"),r("d9a4")),v=r("6cbd"),S=r("3512"),b={ALLPRODUCTS:{key:"".concat(c["GlobalVar"].cacheKeys.content,"_ALLPRODUCTS"),url:"/mse/getAllProducts",source:"ds_allproducts"},PRODUCTS:"/mse/getproducts",AUTOSUGGEST:"/search/autosuggest"},k=Object(g["a"])({baseURL:s.a.UrlUtility.getFullServicesPathV4(""),timeout:3e4},{interceptors:{requests:[v["b"]]}}),T=k.get,P=function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t,r,o){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S["a"].allProducts(t,r,o);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,r,o){return e.apply(this,arguments)}}(),w=function(e,t,r){return T(b.PRODUCTS,e,t,r)},C=function(e,t,r){return T(b.AUTOSUGGEST,e,t,r)},O=s.a.Common.getRealmsDetail(),I={},j={showNum:1e4,documentsHit:[],emptyMsg:"no documents found|Unable to find any suggestions that match the current query",spellCheckMsg:"spell check result tip|Showing results for {0} instead of {1}",currentDocument:null},R={setCurrentDocument:function(e,t){e.currentDocument=Object(f["a"])({},t)},setDocumentsHit:function(e,t){e.documentsHit=t?Object(y["a"])(t):[]}},D={searchDocumentsSync:function(e,t){return Object(m["a"])(regeneratorRuntime.mark((function r(){var o,n,a,c,i,u,l,d,p,h,m,f,g,v,S;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(o=e.commit,n=e.rootState,a=s.a.CultureUtility.getCurrentLanguage(),c=s.a.CultureUtility.getCurrentCountry(),i=n.currentRealm,u=O[i].brands.join(","),l=s.a.RealmType[s.a.Common.getCurrentRealm()].toUpperCase(),i===s.a.RealmType.Pcg)for(d=O[s.a.RealmType.Smart].brands,p=0;p<d.length;p++)u+=","+d[p];if(i===s.a.RealmType.Smart)for(h=O[s.a.RealmType.Pcg].brands,m=0;m<h.length;m++)u+=","+h[m];if(f={query:t,l:a,Countries:c,PageSize:5,Brand:u,Realm:l},g=function(e,t){var r=e.Popularity||0,o=t.Popularity||0;return r<o?1:r>o?-1:(e.Name||"").localeCompare(t.Name||"")},v="".concat(t,"-").concat(a,"-",5,"-").concat(u),!I[v]){r.next=15;break}o("setDocumentsHit",I[v]),r.next=20;break;case 15:if(s.a.Common.getCurrentRealm()!=s.a.RealmType.Pcg){r.next=18;break}return o("setDocumentsHit",[]),r.abrupt("return");case 18:S=t,C(f).then((function(e){if(S===n.keywords){var t=e||"";if(Array.isArray(t)){for(var r=[],a=[],c=0;c<t.length;c++){var s=t[c];"Suggestion"===s.Type&&s.ID!==n.keywords?r.push(s):"Suggestion"!==s.Type&&a.push(s)}r=r.sort(g).slice(0,3),a=a.sort(g).slice(0,3),t=[].concat(Object(y["a"])(a),Object(y["a"])(r))}I[v]=t,o("setDocumentsHit",t)}else console.log("don't update documents search, keywords has changed from : ".concat(S," to ").concat(n.keywords))})).catch((function(e){console.error("Failed to search documents",e),o("setDocumentsHit",[])}));case 20:case"end":return r.stop()}}),r)})))()},setCurrentDocument:function(e,t){var r=e.commit;r("setCurrentDocument",t)},setIsSecondSearch:function(e){var t=e.commit,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t("setIsSecondSearch",r,{root:!0})},setSelectedItemType:function(e,t){var r=e.commit;r("setSelectedItemType",t,{root:!0})},setSelectedItemIndex:function(e,t){var r=e.commit;r("setSelectedItemIndex",t,{root:!0})},setEnterEvent:function(e,t){var r=e.commit;r("enterEvent",!!t,{root:!0})}},E={hitCount:function(e,t,r,o){return(e.documentsHit||[]).length},localEmptyMsg:function(e,t,r,o){return s.a.Translator.translate(e.emptyMsg)},localSpellCheckMsg:function(e,t,r,o){return s.a.Translator.translate(e.spellCheckMsg)}},H={namespaced:!0,state:j,mutations:R,actions:D,getters:E},x=(r("b64b"),r("4de4"),r("4d63"),r("25f0"),r("1276"),r("159b"),l.Common.getCurrentRealm()),L=l.Common.getRealmsDetail();(function(e){e[e["Home"]=0]="Home",e[e["Solr"]=1]="Solr"})(o||(o={}));function B(e){if(Array.isArray(e))return 0===e.length;var t;for(t in e)return!1;return!0}function M(e){if(Array.isArray(e)){for(var t=JSON.parse(JSON.stringify(e.filter((function(e){return"MOTO"!=e.Brand})))),r=0;r<t.length;r++)!B(t[r])&&t[r].hasOwnProperty("Type")&&(t[r].Type=c["Content"].mapProductType(t[r].Type),t[r].ParentID||(t[r].Class=c["GlobalVar"].product.getClassMapping(t[r].Id)));return t}return e}function A(e){try{var t=[],r=[];r=e.filter((function(e){return"MOTO"===e.Brand&&e.Type!=c["ProductType"].Group}));var o=[];return o=e.filter((function(e){return"MOTO"!==e.Brand&&e.Type!=c["ProductType"].Group&&e.Type!=c["ProductType"].Series})),t=[].concat(Object(y["a"])(r),Object(y["a"])(o)),t}catch(n){return console.log("error:",n),e}}function N(e,t){e=e.toLowerCase();var r=t.filter((function(t){var r=t.Name?t.Name.toLowerCase():"",o=G(r,e);return o})),o=V(r,e);return o}var _,U,F,G=function(e,t){try{var r=!1;if(e&&t)for(var o=t.replace(/[()]/g,"").toLowerCase().split(" "),n=e.replace(/[()]/g,"").split(/\s+/),a=n.join("").toLowerCase(),c=0;c<o.length;c++){var s=a.indexOf(o[c]);if(!(s>=0))return r=!1,r;r=!0}return r}catch(i){return console.log("searchLikeProduct error:",i),!1}},q=function(e,t){var r=e.Popularity||0,o=t.Popularity||0;return r<o?1:r>o?-1:(e.Name||"").localeCompare(t.Name||"")},V=function(e,t){if(!e)return[];var r=["CCC3161D-9F83-4023-B8D2-4FC3A1CC864C","89DBD35C-2320-452A-B36C-2B767E11E17C","1ECCF386-4DA8-47BF-A4B0-ED844517230F","080BE9AD-DB51-41F0-9274-DE96D59D9403","4D8EF1F1-5B98-4705-8B72-667285D26820","54F7A8ED-10EB-4CD3-A493-5AF5FF637096","D8FC0B87-A453-46DE-9937-6B1C8B2587E6","25E2DAF8-D3DF-4BD3-B545-FA4386C52D2C","EA4A3142-7C9F-451F-A754-94DCBB77EC97","5D72FC82-A870-400C-AE7D-6468C2710840","D8BA8675-4C10-420E-9179-66A8D63520B6"],o=[],n={},a={};e.forEach((function(e,t){var r=e.Brand?e.Brand:"unknown";a.hasOwnProperty(r)||(a[r]=[]),a[r].push(e),a.hasOwnProperty("accessory")||(a["accessory"]=[]),e.isAccessory&&a["accessory"].push(e),n.hasOwnProperty(r)||(n[r]=[0,0]),e.Type===c["ProductType"].SubSeries?n[r][0]=1:e.Type===c["ProductType"].MachineType&&(n[r][1]=1)}));var s=[],i=new RegExp("\\/".concat(t,"$"),"i"),u=new RegExp("\\/".concat(t,"\\/"),"i"),d=function(e){if(a.hasOwnProperty(e)&&("EBG"===e&&(s=$.grep(a[e],(function(t){return!(1===n[e][0]&&1===n[e][1]&&r.indexOf(t["ParentID"])>=0)})),a[e]=s),L[l.RealmType.Pcg].brands.indexOf(e)>-1)){var t=[],o=[],d=[];a[e].forEach((function(r){var a=!1;i.test(r["Id"])&&(t.push(r),a=!0),u.test(r["Id"])&&(o.push(r),a=!0),a||(1===n[e][0]?r["Type"]===c["ProductType"].SubSeries&&d.push(r):r["Type"]===c["ProductType"].MachineType&&d.push(r))}));var p=o.filter((function(e){var r=t.some((function(t){return e.Id.indexOf(t.Id)>-1}));return!r})),h=t.sort((function(e,t){return e.Name.localeCompare(t.Name)})),m=p.sort((function(e,t){return e.Name.localeCompare(t.Name)})),f=d.sort((function(e,t){return e.Name.localeCompare(t.Name)}));a[e]=[].concat(Object(y["a"])(h),Object(y["a"])(m),Object(y["a"])(f))}};for(var p in a)d(p);var h=[];for(var m in a){if(0===x||2===x||5===x){var f=!!a[m]&&a[m].length;L[l.RealmType.Dcg].brands.indexOf(m)>-1&&f?(h.push("dcg"),o.push({Name:l.Translator.translate("dcg products|DCG Products"),Type:c["ProductType"].BrandGroup})):L[l.RealmType.Mbg].brands.indexOf(m)>-1&&f?(h.push("mbg"),o.push({Name:l.Translator.translate("mbg products|MBG Products"),Type:c["ProductType"].BrandGroup})):L[l.RealmType.Smart].brands.indexOf(m)>-1&&f?(h.push("smart"),o.push({Name:l.Translator.translate("smart products|Smart Products"),Type:c["ProductType"].BrandGroup})):L[l.RealmType.Moto].brands.indexOf(m)>-1&&f&&(h.push("moto"),o.push({Name:l.Translator.translate("moto products|Moto Products"),Type:c["ProductType"].BrandGroup}))}"accessory"===m&&f&&(h.push("accessory"),o.push({Name:l.Translator.translate("accessory products|Accessory Products"),Type:-1}));var g=a[m].sort(q);o=[].concat(Object(y["a"])(o),Object(y["a"])(g))}if(x===c["RealmType"].All||x===c["RealmType"].Pcg||x===c["RealmType"].Smart){var v=new Array,S=o.filter((function(e){return L[l.RealmType.Pcg].brands.indexOf(e.Brand)>-1}));S&&S.length&&v.push({Name:l.Translator.translate("pcg products|PCG Products"),Type:c["ProductType"].BrandGroup});var b=S.sort(q);S=[].concat(v,Object(y["a"])(b));var k=o.filter((function(e){return L[l.RealmType.Pcg].brands.indexOf(e.Brand)<0}));o=[].concat(Object(y["a"])(S),Object(y["a"])(k))}return o},K={},W={allProducts:[],showNum:1e4,productsHit:[],emptyMsg:"the first search no result|No product information was searched, please click the Enter key or click search button and search again.",secondEmptyMsg:"no products found|unable to find any products that match the current query",currentProduct:null},z={setCurrentProduct:function(e,t){e.currentProduct=Object(f["a"])({},t)},setAllProducts:function(e,t){e.allProducts=t?Object(y["a"])(t):[]},setProductsHit:function(e,t){e.productsHit=t?Object(y["a"])(t):[]}},J={init:function(e,t){return Object(m["a"])(regeneratorRuntime.mark((function r(){var o,n,a,c,i,u;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(o=e.commit,n=e.state,a=n.allProducts?n.allProducts.length:0,a){r.next=11;break}return r.next=5,P(t).catch((function(e){return console.error("Failed to get all products",e),null}));case 5:if(c=r.sent,c){r.next=8;break}return r.abrupt("return");case 8:i=[],2==Object.keys(c).length&&c.hasOwnProperty("content")&&c.hasOwnProperty("originLength")&&(u=s.a.Common.lz4Decode(c),i=A(M(u))),o("setAllProducts",i);case 11:case"end":return r.stop()}}),r)})))()},searchProductInLocal:function(e,t){var r=e.state,o=e.commit;e.rootState;if(t){var n=N(t,r.allProducts);o("setProductsHit",n)}},searchProductSync:function(e,t){return Object(m["a"])(regeneratorRuntime.mark((function r(){var o,n,a,i,u,l;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(o=e.commit,!t){r.next=23;break}if(n=s.a.CultureUtility.getCurrentCountry(),a=s.a.CultureUtility.getCurrentLanguage(),i="".concat(t,"-").concat(n,"-").concat(a),!K[i]){r.next=10;break}return o("setProductsHit",K[i]),r.abrupt("return",K[i]);case 10:return r.next=12,w({productId:t}).catch((function(e){return console.error("Failed to get all products",e),[]}));case 12:if(u=r.sent,!Array.isArray(u)||!u.length){r.next=21;break}return l=s.a.Common.getCurrentRealm(),u=M(u).filter((function(e){if(e.isAccessory)return!0;if(/unknown/i.test(e.Brand))return!1;if(e.Id&&!/\//i.test(e.Id))return!1;if(!e.Name&&("undefined"===typeof e.IsSupported||e.IsSupported))return!1;if((!e.Serial||!e.Serial.replace(/\./g,""))&&!1===e.IsSupported)return!1;if(l===c["RealmType"].All||l===c["RealmType"].Dcg){if(!e.Id&&!e.Brand&&!e.Serial&&!e.ParentID&&e.Type===s.a.ProductType.Serial)return!0;if("undefined"!==typeof e.IsSupported&&!e.IsSupported&&!e.Brand)return!0}return!0})),K[i]=u,o("setProductsHit",u),r.abrupt("return",u);case 21:return o("setProductsHit",[]),r.abrupt("return",[]);case 23:return r.abrupt("return",[]);case 24:case"end":return r.stop()}}),r)})))()},setIsSecondSearch:function(e,t){var r=e.commit;r("setIsSecondSearch",t,{root:!0})},setEnterEvent:function(e,t){var r=e.commit;r("enterEvent",!!t,{root:!0})}},Y={hitCount:function(e,t,r,o){return(e.productsHit||[]).length},localEmptyMsg:function(e,t,r,o){return s.a.Translator.translate(e.emptyMsg)},localSecondEmptyMsg:function(e,t,r,o){return s.a.Translator.translate(e.secondEmptyMsg)}},Q={namespaced:!0,state:W,mutations:z,actions:J,getters:Y},X=r("a9c9"),Z=c["DTM"].Lmd,ee={keywords:"",searchPosition:X["a"].Solr,linkTrackType:Z.linkTrackTypeValue(s.a.LinkTrackType.HomeSearchProducts),currentRealm:c["Common"].getCurrentRealm(),defaultoPSP:!0,selectedItemIndex:0,selectedItemType:X["b"].Product,requestIndex:0,currentRequestStatus:!1,isSecondSearch:!1,enterEvent:!1,showResultTab:!0},te={setOriState:function(e,t){e.keywords=t.keywords||"",e.searchPosition=t.searchPosition,e.linkTrackType=t.linkTrackType,e.defaultoPSP=t.defaultoPSP},setKeywords:function(e,t){e.keywords=t},setIsSecondSearch:function(e,t){e.isSecondSearch=!!t},setEnterEvent:function(e,t){e.enterEvent=!!t},setSelectedItemType:function(e,t){e.selectedItemType=t},setSelectedItemIndex:function(e,t){e.selectedItemIndex=t},setCurrentRequestStatus:function(e,t){e.currentRequestStatus=!!t}},re={initOriRootState:function(e,t){var r=e.commit;r("setOriState",t)},setKeywords:function(e,t){var r=e.commit,o=t?t.replace(/(^\s+)|(\s+$)/g,""):"";r("setKeywords",o)},setIsSecondSearch:function(e,t){var r=e.commit;r("setIsSecondSearch",t)},setEnterEvent:function(e,t){var r=e.commit;r("setEnterEvent",!!t)},setSelectedItemType:function(e,t){var r=e.commit;r("setSelectedItemType",t)},setSelectedItemIndex:function(e,t){var r=e.commit;r("setSelectedItemIndex",t)},setCurrentRequestStatus:function(e,t){var r=e.commit;r("setCurrentRequestStatus",t)}},oe={},ne={state:ee,mutations:te,actions:re,getters:oe,modules:{documents:H,products:Q}},ae=s.a.Common.getRealmsDetail(),ce={},se={showNum:1e4,documentsHit:[],emptyMsg:"no documents found|Unable to find any suggestions that match the current query",spellCheckMsg:"spell check result tip|Showing results for {0} instead of {1}",currentDocument:null},ie={setCurrentDocument:function(e,t){e.currentDocument=Object(f["a"])({},t)},setDocumentsHit:function(e,t){e.documentsHit=t?Object(y["a"])(t):[]}},ue={searchDocumentsSync:function(e,t){return Object(m["a"])(regeneratorRuntime.mark((function r(){var o,n,a,c,i,u,l,d,p,h,m,f,g,v;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(o=e.commit,n=e.rootState,a=s.a.CultureUtility.getCurrentLanguage(),c=s.a.CultureUtility.getCurrentCountry(),i=n.currentRealm,u=ae[i].brands.join(","),l=s.a.RealmType[s.a.Common.getCurrentRealm()].toUpperCase(),i===s.a.RealmType.Pcg)for(d=ae[s.a.RealmType.Smart].brands,p=0;p<d.length;p++)u+=","+d[p];if(i===s.a.RealmType.Smart)for(h=ae[s.a.RealmType.Pcg].brands,p=0;p<h.length;p++)u+=","+h[p];m={query:t,l:a,Countries:c,PageSize:5,Brand:u,Realm:l},f=function(e,t){var r=e.Popularity||0,o=t.Popularity||0;return r<o?1:r>o?-1:(e.Name||"").localeCompare(t.Name||"")},g="".concat(t,"-").concat(a,"-",5,"-").concat(u),ce[g]?o("setDocumentsHit",ce[g]):(v=t,C(m).then((function(e){if(v===n.keywords){var t=e||"";if(Array.isArray(t)){for(var r=[],a=[],c=0;c<t.length;c++){var s=t[c];"Suggestion"===s.Type&&s.ID!==n.keywords?r.push(s):"Suggestion"!==s.Type&&a.push(s)}r=r.sort(f).slice(0,3),a=a.sort(f).slice(0,3),t=[].concat(Object(y["a"])(a),Object(y["a"])(r))}ce[g]=t,o("setDocumentsHit",t)}else console.log("don't update documents search, keywords has changed from : ".concat(v," to ").concat(n.keywords))})).catch((function(e){console.error("Failed to search documents",e),o("setDocumentsHit",[])})));case 12:case"end":return r.stop()}}),r)})))()},setCurrentDocument:function(e,t){var r=e.commit;r("setCurrentDocument",t)},setIsSecondSearch:function(e){var t=e.commit,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t("setIsSecondSearch",r,{root:!0})},setSelectedItemType:function(e,t){var r=e.commit;r("setSelectedItemType",t,{root:!0})},setSelectedItemIndex:function(e,t){var r=e.commit;r("setSelectedItemIndex",t,{root:!0})},setEnterEvent:function(e,t){var r=e.commit;r("enterEvent",!!t,{root:!0})}},le={hitCount:function(e,t,r,o){return(e.documentsHit||[]).length},localEmptyMsg:function(e,t,r,o){return s.a.Translator.translate(e.emptyMsg)},localSpellCheckMsg:function(e,t,r,o){return s.a.Translator.translate(e.spellCheckMsg)}},de={namespaced:!0,state:se,mutations:ie,actions:ue,getters:le},pe={},he={allProducts:[],showNum:1e4,productsHit:[],emptyMsg:"the first search no result|No product information was searched, please click the Enter key or click search button and search again.",secondEmptyMsg:"no products found|unable to find any products that match the current query",currentProduct:null},me={setCurrentProduct:function(e,t){e.currentProduct=Object(f["a"])({},t)},setAllProducts:function(e,t){e.allProducts=t?Object(y["a"])(t):[]},setProductsHit:function(e,t){e.productsHit=t?Object(y["a"])(t):[]}},ye={init:function(e,t){return Object(m["a"])(regeneratorRuntime.mark((function r(){var o,n,a,c,i,u;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(o=e.commit,n=e.state,a=n.allProducts?n.allProducts.length:0,a){r.next=11;break}return r.next=5,P(t).catch((function(e){return console.error("Failed to get all products",e),null}));case 5:if(c=r.sent,c){r.next=8;break}return r.abrupt("return");case 8:i=[],2==Object.keys(c).length&&c.hasOwnProperty("content")&&c.hasOwnProperty("originLength")&&(u=s.a.Common.lz4Decode(c),i=A(M(u))),o("setAllProducts",i);case 11:case"end":return r.stop()}}),r)})))()},searchProductInLocal:function(e,t){var r=e.state,o=e.commit;e.rootState;if(t){var n=N(t,r.allProducts);o("setProductsHit",n)}},searchProductSync:function(e,t){return Object(m["a"])(regeneratorRuntime.mark((function r(){var o,n,a,i,u,l;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(o=e.commit,!t){r.next=22;break}if(n=s.a.CultureUtility.getCurrentCountry(),a=s.a.CultureUtility.getCurrentLanguage(),i="".concat(t,"-").concat(n,"-").concat(a),!pe[i]){r.next=9;break}o("setProductsHit",pe[i]),r.next=22;break;case 9:return r.next=11,w({productId:t}).catch((function(e){return console.error("Failed to get all products",e),[]}));case 11:if(u=r.sent,!Array.isArray(u)||!u.length){r.next=20;break}return l=s.a.Common.getCurrentRealm(),u=M(u).filter((function(e){if(e.isAccessory)return!0;if(/unknown/i.test(e.Brand))return!1;if(e.Id&&!/\//i.test(e.Id))return!1;if(!e.Name&&("undefined"===typeof e.IsSupported||e.IsSupported))return!1;if((!e.Serial||!e.Serial.replace(/\./g,""))&&!1===e.IsSupported)return!1;if(l===c["RealmType"].All||l===c["RealmType"].Dcg){if(!e.Id&&!e.Brand&&!e.Serial&&!e.ParentID&&e.Type===s.a.ProductType.Serial)return!0;if("undefined"!==typeof e.IsSupported&&!e.IsSupported&&!e.Brand)return!0}return!0})),pe[i]=u,o("setProductsHit",u),r.abrupt("return",u);case 20:return o("setProductsHit",[]),r.abrupt("return",[]);case 22:return r.abrupt("return",[]);case 23:case"end":return r.stop()}}),r)})))()},setIsSecondSearch:function(e,t){var r=e.commit;r("setIsSecondSearch",t,{root:!0})},setEnterEvent:function(e,t){var r=e.commit;r("enterEvent",!!t,{root:!0})}},fe={hitCount:function(e,t,r,o){return(e.productsHit||[]).length},localEmptyMsg:function(e,t,r,o){return s.a.Translator.translate(e.emptyMsg)},localSecondEmptyMsg:function(e,t,r,o){return s.a.Translator.translate(e.secondEmptyMsg)}},ge={namespaced:!0,state:he,mutations:me,actions:ye,getters:fe};(function(e){e[e["Home"]=0]="Home",e[e["Solr"]=1]="Solr"})(_||(_={})),function(e){e[e["Hybrid"]=0]="Hybrid",e[e["Normal"]=1]="Normal"}(U||(U={})),function(e){e[e["Product"]=0]="Product",e[e["Document"]=1]="Document"}(F||(F={}));var ve=c["DTM"].Lmd,Se={keywords:"",searchPosition:_.Solr,linkTrackType:ve.linkTrackTypeValue(s.a.LinkTrackType.HomeSearchProducts),currentRealm:c["Common"].getCurrentRealm(),defaultoPSP:!0,selectedItemIndex:0,selectedItemType:F.Product,requestIndex:0,currentRequestStatus:!1,isSecondSearch:!1,enterEvent:!1,showResultTab:!0},be={setOriState:function(e,t){e.keywords=t.keywords||"",e.searchPosition=t.searchPosition,e.linkTrackType=t.linkTrackType,e.defaultoPSP=t.defaultoPSP},setKeywords:function(e,t){e.keywords=t},setIsSecondSearch:function(e,t){e.isSecondSearch=!!t},setEnterEvent:function(e,t){e.enterEvent=!!t},setSelectedItemType:function(e,t){e.selectedItemType=t},setSelectedItemIndex:function(e,t){e.selectedItemIndex=t},setCurrentRequestStatus:function(e,t){e.currentRequestStatus=!!t}},ke={initOriRootState:function(e,t){var r=e.commit;r("setOriState",t)},setKeywords:function(e,t){var r=e.commit,o=t?t.replace(/(^\s+)|(\s+$)/g,""):"";r("setKeywords",o)},setIsSecondSearch:function(e,t){var r=e.commit;r("setIsSecondSearch",t)},setEnterEvent:function(e,t){var r=e.commit;r("setEnterEvent",!!t)},setSelectedItemType:function(e,t){var r=e.commit;r("setSelectedItemType",t)},setSelectedItemIndex:function(e,t){var r=e.commit;r("setSelectedItemIndex",t)},setCurrentRequestStatus:function(e,t){var r=e.commit;r("setCurrentRequestStatus",t)}},Te={},Pe={state:Se,mutations:be,actions:ke,getters:Te,modules:{documents:de,products:ge}};u.a.use(h.a);var we={pcg:ne,independent:Pe};function Ce(){var e=c["RealmType"][s.a.Common.getCurrentRealm()];return e?(e=e.toLowerCase(),we[e]||we["pcg"]):{}}var Oe=new h.a.Store(Ce()),Ie=new h.a.Store(we["independent"]),je=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("SearchInput",{on:{onToggleResult:e.handleToggleResult}},[r("div",{ref:"resultList",staticClass:"home_searchResult search_row tt-menu",style:e.cStyle,on:{mouseover:e.handleMouseOver}},[r("div",{staticClass:"search_row1"},[r("ProductsResult",{on:{asyncSeach:e.handleAsyncSearch,pHideResultBox:e.handleToggleResult}})],1),r("div",{staticClass:"search_row2"},[r("DocumentsResult")],1)])])},Re=[],De=r("d4ec"),Ee=r("bee2"),He=r("262e"),xe=r("2caf"),Le=(r("d3b7"),r("a9e3"),r("9ab4")),Be=r("1b40"),Me=r("4bb5"),Ae=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"documentResult",staticClass:"search_col22 td-dropdown-menu"},[r("h4",[e._v(e._s(e.t("suggested searches|Suggested Searches")))]),r("ul",[0===e.showDocumentsHit.length?r("li",[r("div",[e._v(e._s(e.moduleLocalEmptyMsg))])]):e._e(),e.ispellCheckRsg?r("h5",{style:e.spellcheckMsgStyle,domProps:{innerHTML:e._s(e.spellCheckResultTip)}}):e._e(),e._l(e.showDocumentsHit,(function(t,o){return r("li",{key:o,class:e.selectedStyle(t)},[r("a",{attrs:{href:"javascript:void(0);",title:t.Title,"data-id":t.ID,"data-type":t.Type,"data-name":e.documentUrl(t.Type,t.ID)},on:{click:function(r){return e.handleDocClick(r,t)}}},[r("span",{class:e.documentIcon(t.Type)}),r("span",{domProps:{innerHTML:e._s(e.showName(t.Title))}})])])}))],2),r("ul",[r("li",{staticClass:"searchMore",class:{dcgSearchShowBtn:e.isDcgRealm}},[r("a",{staticClass:"searchMoreInRight",attrs:{href:e.showMoreSearchUrl}},[e._v(" "+e._s(e.t(e.isDcgRealm?"show more results|#Show More Results":"show more suggestions|#Show more suggestions"))+" ")])])])])},Ne=[],_e=(r("466d"),r("b0c0"),r("60bb")),Ue=s.a.Common.getCurrentRealm(),Fe=s.a.Common.getRealmsDetail(),Ge=function(e){Object(He["a"])(r,e);var t=Object(xe["a"])(r);function r(){var e;return Object(De["a"])(this,r),e=t.apply(this,arguments),e.searchProducts=[],e.searchDocuments=[],e}return Object(Ee["a"])(r,[{key:"processProductData",value:function(e,t){if(!e)return[];var r=["CCC3161D-9F83-4023-B8D2-4FC3A1CC864C","89DBD35C-2320-452A-B36C-2B767E11E17C","1ECCF386-4DA8-47BF-A4B0-ED844517230F","080BE9AD-DB51-41F0-9274-DE96D59D9403","4D8EF1F1-5B98-4705-8B72-667285D26820","54F7A8ED-10EB-4CD3-A493-5AF5FF637096","D8FC0B87-A453-46DE-9937-6B1C8B2587E6","25E2DAF8-D3DF-4BD3-B545-FA4386C52D2C","EA4A3142-7C9F-451F-A754-94DCBB77EC97","5D72FC82-A870-400C-AE7D-6468C2710840","D8BA8675-4C10-420E-9179-66A8D63520B6"],o=[],n={},i={};e.forEach((function(e,t){var r=e.Brand?e.Brand:"unknown";i.hasOwnProperty(r)||(i[r]=[]),i[r].push(e),n.hasOwnProperty(r)||(n[r]=[0,0]),e.Type===c["ProductType"].SubSeries?n[r][0]=1:e.Type===c["ProductType"].MachineType&&(n[r][1]=1)}));var u=[],l=new RegExp("\\/".concat(t,"(?:\\/|$)"),"gi"),d=function(e){if(i.hasOwnProperty(e)&&("EBG"===e&&(u=a.a.grep(i[e],(function(t){return!(1===n[e][0]&&1===n[e][1]&&r.indexOf(t["ParentID"])>=0)})),i[e]=u),Fe[s.a.RealmType.Pcg].brands.indexOf(e)>-1)){var t=[],o=[];i[e].forEach((function(r){l.test(r["Id"])?t.push(r):1===n[e][0]?r["Type"]===c["ProductType"].SubSeries&&o.push(r):r["Type"]===c["ProductType"].MachineType&&o.push(r)}));var d=t.sort((function(e,t){return e.Name.localeCompare(t.Name)})),p=o.sort((function(e,t){return e.Name.localeCompare(t.Name)}));i[e]=[].concat(Object(y["a"])(d),Object(y["a"])(p))}};for(var p in i)d(p);var h=[];for(var m in i){if(0===Ue||2===Ue||5===Ue){var f=!!i[m]&&i[m].length;Fe[s.a.RealmType.Dcg].brands.indexOf(m)>-1&&f?(h.push("dcg"),o.push({Name:s.a.Translator.translate("dcg products|DCG Products"),Type:c["ProductType"].BrandGroup})):Fe[s.a.RealmType.Mbg].brands.indexOf(m)>-1&&f?(h.push("mbg"),o.push({Name:s.a.Translator.translate("mbg products|MBG Products"),Type:c["ProductType"].BrandGroup})):Fe[s.a.RealmType.Smart].brands.indexOf(m)>-1&&f?(h.push("smart"),o.push({Name:s.a.Translator.translate("smart products|Smart Products"),Type:c["ProductType"].BrandGroup})):Fe[s.a.RealmType.Moto].brands.indexOf(m)>-1&&f&&(h.push("moto"),o.push({Name:s.a.Translator.translate("moto products|Moto Products"),Type:c["ProductType"].BrandGroup}))}a.a.merge(o,i[m])}if(0===Ue||2===Ue||5===Ue){var g=new Array,v=a.a.grep(o,(function(e){return Fe[s.a.RealmType.Pcg].brands.indexOf(e.Brand)>-1}));v&&v.length&&g.push({Name:s.a.Translator.translate("pcg products|PCG Products"),Type:c["ProductType"].BrandGroup}),v=a.a.merge(g,v);var S=a.a.grep(o,(function(e){return Fe[s.a.RealmType.Pcg].brands.indexOf(e.Brand)<0}));o=a.a.merge(v,S)}return o}},{key:"searchLikeProduct",value:function(e,t){try{var r=!1;if(e&&t)for(var o=t.replace(/[()]/g,"").toLowerCase().split(" "),n=e.replace(/[()]/g,"").split(/\s+/),a=n.join("").toLowerCase(),c=0;c<o.length;c++){var s=a.indexOf(o[c]);if(!(s>=0))return r=!1,r;r=!0}return r}catch(i){return console.log("searchLikeProduct error:",i),!1}}},{key:"searchProduct",value:function(e,t){e=e.toLowerCase();var r=this,o=a.a.grep(t,(function(t){var o=t.Name?t.Name.toLowerCase():"",n=r.searchLikeProduct(o,e);return n})),n=this.processProductData(o,e);return n}},{key:"updateSpecialChar",value:function(e){for(var t=e,r=["\\","^","$","*","?",".","+","(",")","[","]","|","{","}"],o=["~","`","@","#","%","&","=","'",'"',":",";","<",">",",","/"],n=0;n<r.length;n++)t=t.replace(new RegExp("\\"+r[n],"g"),"\\"+r[n]);for(n=0;n<o.length;n++)t=t.replace(new RegExp(o[n],"g"),"\\"+o[n]);return t}},{key:"allProductProcess",value:function(e){try{var t=[],r=[];r=a.a.grep(e,(function(e){return"MOTO"===e.Brand&&e.Type!=c["ProductType"].Group}));var o=[];return o=a.a.grep(e,(function(e){return"MOTO"!==e.Brand&&e.Type!=c["ProductType"].Group&&e.Type!=c["ProductType"].Series})),t=a.a.merge(r,o),t}catch(n){return console.log("error:",n),e}}},{key:"currentRealm",get:function(){return Ue}}]),r}(Be["i"]);Ge=Object(Le["a"])([Be["a"]],Ge);var qe=function(e){Object(He["a"])(r,e);var t=Object(xe["a"])(r);function r(){return Object(De["a"])(this,r),t.apply(this,arguments)}return Object(Ee["a"])(r,[{key:"SearchToRedirect",value:function(e,t){var r=window["BrowsePensSuppliesProductConfig"],o=r&&r["regex"]&&r["regex"]instanceof RegExp&&r["regex"].test(e),n=r&&r["redirect"]&&"function"===typeof r["redirect"];r&&o&&n?window.location.href=r["redirect"](e):t()}},{key:"SearchDebounce",value:function(){return _e["debounce"].apply(void 0,arguments)}}]),r}(Be["i"]);qe=Object(Le["a"])([Be["a"]],qe);var $e=function(e){Object(He["a"])(r,e);var t=Object(xe["a"])(r);function r(){return Object(De["a"])(this,r),t.apply(this,arguments)}return Object(Ee["a"])(r,[{key:"enableLoadingStyle",value:function(){this.isSearching=!0}},{key:"disableLoadingStyle",value:function(){this.isSearching=!0}}]),r}(Be["i"]);$e=Object(Le["a"])([Be["a"]],$e);var Ve=Object(Me["e"])("documents"),Ke=c["DTM"].Lmd,We=function(e){Object(He["a"])(r,e);var t=Object(xe["a"])(r);function r(){var e;return Object(De["a"])(this,r),e=t.apply(this,arguments),e.spellcheckMsgStyle={color:"#FF6A00",padding:"0 20px",margin:"3px",fontSize:"16px"},e}return Object(Ee["a"])(r,[{key:"created",value:function(){}},{key:"mounted",value:function(){}},{key:"beforeUpdate",value:function(){}},{key:"updated",value:function(){var e=this;this.setCurrentRequestStatus(!0),this.$nextTick((function(){if(e.$refs.documentResult){var t=e.$refs.documentResult.querySelector(".tt-selected");t&&t.scrollIntoView(!1)}}))}},{key:"sortFunc",value:function(e,t){var r=e.Popularity||0,o=t.Popularity||0;return r<o?1:r>o?-1:(e.Name||"").localeCompare(t.Name||"")}},{key:"suggestionKeyHitSorted",get:function(){var e=this.showDocumentsHit.filter((function(e){return"Suggestion"===e.Type}));return e}},{key:"docSearchedHitSorted",get:function(){var e=this.showDocumentsHit.filter((function(e){return"Suggestion"!==e.Type}));return e}},{key:"showDocumentsHit",get:function(){return this.documentsHit.slice(0,this.showNum)}},{key:"selectedStyle",get:function(){var e=this;return function(t){var r=t.ID,o=e.selectedItemType===X["b"].Document&&e.selectedItemIndex===r;return{"tt-selected":o}}}},{key:"resultTitle",get:function(){var e=this.currentRealm===c["RealmType"].Dcg?this.t("search result suggestions|SEARCH RESULT SUGGESTIONS"):this.t("suggested search results|Suggested Search results");return e}},{key:"ispellCheckRsg",get:function(){return!!this.spellCheckWord}},{key:"spellCheckResultTip",get:function(){var e=this.t("spell check result tip|Showing results for {0} instead of {1}"),t=function(e){return'<b style="color:blue">'.concat(e,"</b>")},r=this.ispellCheckRsg?e.replace("{0}",t(this.spellCheckWord)).replace("{1}",t(this.keywords)):"";return r}},{key:"spellCheckWord",get:function(){return this.documentsHit&&this.documentsHit.length&&this.documentsHit[0].SpellCheck||""}},{key:"showMoreSearchUrl",get:function(){var e=s.a.UrlUtility.getFullPath("/search?query="+window.encodeURIComponent(this.keywords));return this.searchPosition===X["a"].Solr?e+="&SearchType=Customer search&searchLocation=Masthead":e+="&SearchType=Customer search&searchLocation=Homepage",e}},{key:"isDcgRealm",get:function(){return this.currentRealm===c["RealmType"].Dcg}},{key:"highlightReg",get:function(){var e=new RegExp(this.keywords,"ig");return e}},{key:"highlight",value:function(e){var t=e.match(this.highlightReg),r=e;if(t&&t.length>0){var o=t[0];r=e.replace(o,'<strong class="td-highlight">'+o+"</strong>")}return r}},{key:"documentUrl",value:function(e,t){var r="";switch(e){case"Forum.KB":r="/forumkb/"+t;break;case"Driver":r="/downloads/"+t;break;case"KB":r="/solutions/"+t;break;case"MSH":r="/solutions/"+t;break;case"TS":r="/solutions/"+t;break;case"PS":r="/product_security/"+t;break;case"AccessoryInfo":r="/accessories/"+t;break;case"PartInfo":r="/parts/"+t;break;case"ProductInfo":r="/documents/"+t;break;case"Video":r="/videos/"+t;break;case"LPDT":r="/troubleshoot/"+t;break;case"Manual":var o=/^https?:\/\//i;r=o.test(t)?t:"/manuals/".concat(t);break;case"quick links":r=t;break;case"Suggestion":r="/search?query=".concat(t,"&SearchType=Customer%20search&searchLocation=Masthead");break;default:r="/documents/"+t;break}return r}},{key:"documentIcon",value:function(e){var t="";switch(e){case"Forum.KB":t="icon-kb";break;case"Driver":t="icon-Driver";break;case"KB":t="icon-kb";break;case"AccessoryInfo":t="icon-AccessoryInfo";break;case"PartInfo":t="icon-AccessoryInfo";break;case"ProductInfo":t="icon-ProductInfo";break;case"Video":t="icon-Video";break;case"Manual":t="icon-book";break;case"quick links":t="icon-link";break;case"Suggestion":t="icon-search-s";break;default:t="icon-book";break}return t}},{key:"showName",value:function(e){var t=this.highlight(e);return t}},{key:"handleDocClick",value:function(e,t){var r=s.a.UrlUtility.getFullPath("search"),o=t&&t.ID||"",n=t&&t.Type||"",a=this.documentUrl(n,o);if(e&&e.target){var c=e.currentTarget;a=c.dataset["name"]||"",n=c.dataset["type"]||""}var i={intSearchTerms:"",SearchType:"",SearchProductType:"",intSearchCount:"",intSearchLoc:""};i.intSearchTerms=this.keywords,i.SearchType="Customer Search",i.SearchProductType="NA",i.intSearchCount=this.documentsHit.length.toString(),this.searchPosition==X["a"].Solr?i.intSearchLoc="Masthead":i.intSearchLoc="Homepage",Ke.trackInternalSearch(i),"quick links"===n?window.location.href=o:"Manual"===n&&/^https?:\/\//i.test(a)?window.location.href=a:(r=s.a.UrlUtility.getFullPath(a),window.location.href=r)}},{key:"handleEnterEventChange",value:function(e,t){var r=this;if(this.selectedItemType===X["b"].Document&&this.documentsHit.length&&e!=t&&e){this.setEnterEvent(!1);var o=this.documentsHit.find((function(e){return e.ID===r.selectedItemIndex}))||this.documentsHit[0];this.handleDocClick(null,o)}}}]),r}(Be["i"]);Object(Le["a"])([Ve.State("showNum")],We.prototype,"showNum",void 0),Object(Le["a"])([Ve.State("documentsHit")],We.prototype,"documentsHit",void 0),Object(Le["a"])([Ve.State("currentDocument")],We.prototype,"currentDocument",void 0),Object(Le["a"])([Ve.Getter("hitCount")],We.prototype,"moduleGetterHitCount",void 0),Object(Le["a"])([Ve.Getter("localEmptyMsg")],We.prototype,"moduleLocalEmptyMsg",void 0),Object(Le["a"])([Ve.Getter("localSpellCheckMsg")],We.prototype,"moduleLocalSpellCheckMsg",void 0),Object(Le["a"])([Ve.Action("setCurrentDocument")],We.prototype,"setCurrentDocument",void 0),Object(Le["a"])([Ve.Action("setEnterEvent")],We.prototype,"setEnterEvent",void 0),Object(Le["a"])([Object(Me["d"])("keywords")],We.prototype,"keywords",void 0),Object(Le["a"])([Object(Me["d"])("searchPosition")],We.prototype,"searchPosition",void 0),Object(Le["a"])([Object(Me["d"])("linkTrackType")],We.prototype,"linkTrackType",void 0),Object(Le["a"])([Object(Me["d"])("currentRealm")],We.prototype,"currentRealm",void 0),Object(Le["a"])([Object(Me["d"])("isSecondSearch")],We.prototype,"isSecondSearch",void 0),Object(Le["a"])([Object(Me["d"])("enterEvent")],We.prototype,"enterEvent",void 0),Object(Le["a"])([Object(Me["d"])("selectedItemIndex")],We.prototype,"selectedItemIndex",void 0),Object(Le["a"])([Object(Me["d"])("selectedItemType")],We.prototype,"selectedItemType",void 0),Object(Le["a"])([Object(Me["a"])("setCurrentRequestStatus")],We.prototype,"setCurrentRequestStatus",void 0),Object(Le["a"])([Object(Be["j"])("enterEvent")],We.prototype,"handleEnterEventChange",null),We=Object(Le["a"])([Object(Be["a"])({mixins:[qe]})],We);var ze=We,Je=ze,Ye=r("2877"),Qe=Object(Ye["a"])(Je,Ae,Ne,!1,null,null,null),Xe=Qe.exports,Ze=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"productResult",staticClass:"tt-dataset tt-dataset-Products"},[e.showGroupName?r("h4",{staticClass:"group-name",attrs:{t:e.groupNameKey}},[e._v(e._s(e.groupName))]):e._e(),0==e.moduleGetterHitCount&&e.isPCG?r("div",{staticClass:"tt-product-noResult noResult-clickble",attrs:{"data-position":e.searchPosition},domProps:{innerHTML:e._s(e.noProductResultText)},on:{click:function(t){return e.noResultClick()}}}):e._e(),0!=e.moduleGetterHitCount||e.isPCG?e._e():r("div",{staticClass:"tt-product-noResult"},[e._v(e._s(e.noProductResult))]),0==e.moduleGetterHitCount?r("div",{staticClass:"tt-product-noResult-more",domProps:{innerHTML:e._s(e.noProductResultMoreText)},on:{click:e.handleEOL_Click}}):e._e(),e._l(e.productsHit,(function(t){return[t.Type===e.productTypes.BrandGroup?r("h4",{key:t.Id,staticClass:"group-name"},[e._v(e._s(t.Name))]):[t.isAccessory?r("div",{key:t.Id,staticClass:"tt-suggestion tt-selectable",class:e.selectedStyle(t),attrs:{"data-url":t.Id},on:{click:function(r){return e.clickAccessoryEvent(r,t)}}},[r("div",{staticClass:"tt-image"},[r("img",{attrs:{src:e.productImage(t)}})]),r("div",{staticClass:"tt-content"},[r("div",{staticClass:"tt-content-up",domProps:{innerHTML:e._s(e.highlight(t.Name))}})])]):t.Id&&"moto"!==t.Brand.toLowerCase()?r("div",{key:t.Id,staticClass:"tt-suggestion tt-selectable",class:e.selectedStyle(t),attrs:{"data-url":t.Id},on:{click:function(r){return e.clickProductEvent(r,t)}}},[r("div",{staticClass:"tt-image"},[r("img",{attrs:{src:e.productImage(t)}})]),r("div",{staticClass:"tt-content"},[r("div",{staticClass:"tt-content-up",domProps:{innerHTML:e._s(e.highlight(t.Name))}}),e.isSpecialProduct(t.Id)?r("div",{staticClass:"tt-content-down"},[r("a",[e._v(e._s(e.downloads))]),r("a",[e._v(e._s(e.documentation))])]):r("div",{staticClass:"tt-content-down"},[r("a",{on:{click:function(r){return e.clickDocOrDowLink(r,t,"dow")}}},[e._v(e._s(e.downloads))]),r("a",{on:{click:function(r){return e.clickDocOrDowLink(r,t,"doc")}}},[e._v(e._s(e.documentation))])])])]):r("div",{key:t.ID,staticClass:"tt-suggestion tt-selectable",attrs:{"data-url":t.Id},on:{click:function(r){return e.clickProductEvent(r,t)}}},[r("div",{staticClass:"tt-image"},[r("img",{attrs:{src:e.productImage(t)}})]),r("div",{staticClass:"tt-content"},[r("div",{staticClass:"tt-content-up",domProps:{innerHTML:e._s(e.highlight(t.Name))}})])])]]})),e.moduleGetterHitCount?r("div",{staticClass:"tt-bottom-line"}):e._e()],2)},et=[],tt=(r("d81d"),r("caad"),r("2532"),Object(Me["e"])("products")),rt=Object(Me["e"])("documents"),ot=c["DTM"].Lmd,nt=s.a.Common.getCurrentRealm(),at=function(e){Object(He["a"])(r,e);var t=Object(xe["a"])(r);function r(){var e;return Object(De["a"])(this,r),e=t.apply(this,arguments),e.win=window,e.language=e.win["config"].user.Language,e.countries=e.win["config"].user.Country,e.downloads=e.t("downloads|Downloads"),e.documentation=e.t("knowledge base and guides|Knowledge Base & Guides"),e.productTypes=c["ProductType"],e.isPCG=nt===s.a.RealmType.Pcg,e}return Object(Ee["a"])(r,[{key:"created",value:function(){}},{key:"mounted",value:function(){}},{key:"beforeUpdate",value:function(){}},{key:"updated",value:function(){var e=this;this.$nextTick((function(){if(e.$refs.productResult){var t=e.$refs.productResult.querySelector(".tt-selected");t&&t.scrollIntoView(!1)}}))}},{key:"noResultClick",value:function(){this.searchPosition===X["a"].Solr?$("#solr-search .home-search-input .icon-search-text").trigger("click"):$("#home-search .home-search-input .icon-search").trigger("click")}},{key:"noProductResultText",get:function(){var e="",t=s.a.Translator.translate("click here|Click Here");return e=s.a.Translator.translate("no suggestions matched|No suggestions match the term, please {0} for further search.","<a>".concat(t,"</a>")),e}},{key:"noProductResultMoreText",get:function(){var e="",t=s.a.Translator.translate("end of support|End of Support");return e="ja"==this.language.toLocaleLowerCase()||"jp"==this.countries.toLocaleLowerCase()?s.a.Translator.translate("look for eos content|Looking for help with an older product? Visit our {0} page to access 'as is' resources for such devices.","<a href='https://download.lenovo.com/eol/JP/index.html' target=\"_blank\">".concat(t,"</a>")):s.a.Translator.translate("look for eos content|Looking for help with an older product? Visit our {0} page to access 'as is' resources for such devices.","<a href='https://download.lenovo.com/eol/index.html' target=\"_blank\">".concat(t,"</a>")),e}},{key:"isSpecialProduct",value:function(e){var t=["solutions-and-software/operating-systems/vmware"],r=new RegExp("^(".concat(t.join("|"),")"),"i");return!(!r.test(e.toLowerCase())&&"solutions-and-software/on-demand-solutions/cobalt-iron"!=e.toLowerCase())}},{key:"productsHitSorted",get:function(){if(this.productsHit&&this.productsHit.length){var e=this.productsHit.sort((function(e,t){var r=e.Popularity||0,o=t.Popularity||0;return r<o?1:r>o?-1:(e.Name||"").localeCompare(t.Name||"")}));return e}return[]}},{key:"selectedStyle",get:function(){var e=this;return function(t){var r=t.Id,o=e.selectedItemType===X["b"].Product&&0===e.selectedItemIndex&&0===e.productsHit.filter((function(e){return!!e.Id})).map((function(e){return e.Id})).indexOf(r),n=o||e.selectedItemType===X["b"].Product&&e.selectedItemIndex===r;return{"tt-selected":n}}}},{key:"groupNameKey",get:function(){var e=this.currentRealm===s.a.RealmType.Dcg?"search by product|SEARCH BY PRODUCT":"products|Products";return e}},{key:"groupName",get:function(){var e=s.a.Translator.translate(this.groupNameKey);return e}},{key:"showGroupName",get:function(){var e=s.a.RealmType;return this.moduleGetterHitCount?![e.All,e.Pcg,e.Smart].includes(this.currentRealm):(console.log("no result:",this.keywords),console.log("no result searchResult:",this.noProductResult),!0)}},{key:"noProductResult",get:function(){return this.isSecondSearch?this.moduleLocal2ndEmptyMsg:this.moduleLocalEmptyMsg}},{key:"highlightReg",get:function(){var e=new RegExp(this.keywords,"ig");return e}},{key:"isAlsoTigger",get:function(){return this.selectedItemType===X["b"].Document&&this.documentsHit.length}},{key:"highlight",value:function(e){var t=e.match(this.highlightReg),r=e;if(t&&t.length>0){var o=t[0];r=e.replace(o,'<strong class="tt-highlight">'+o+"</strong>")}return r}},{key:"productImage",value:function(e){var t=e.Image||"https://download.lenovo.com/images/System/prodimage_default.jpg";return t}},{key:"productDownloadUrl",value:function(e){var t=s.a.UrlUtility.getFullPath("/products/"+e.Id.toLowerCase()+"/downloads");return t}},{key:"productDocumentsUrl",value:function(e){var t=s.a.UrlUtility.getFullPath("/products/"+e.Id.toLowerCase()+"/documentation");return t}},{key:"clickDocOrDowLink",value:function(e,t,r){e.preventDefault(),e.stopPropagation();var o="dow"==r?this.productDownloadUrl(t):this.productDocumentsUrl(t);return this.SearchToRedirect(t.Id,(function(){return window.location.href=o})),!1}},{key:"clickProductEvent",value:function(e,t){ot.setSearchEventRecord({searchType:t.Type,keyWordSearch:t.Name});var r=function(e,t){var r=s.a.DTM.Lmd.dicSearchType.ProductName;if(t.Type===s.a.ProductType.MachineType){var o=new RegExp("(.+/){3}"+e,"i");o.test(t.Id)&&(r="Machine Type")}return t.Type===s.a.ProductType.Serial&&(r="Serial Number"),r},o={intSearchTerms:"",SearchType:"",SearchProductType:"",intSearchCount:"",intSearchLoc:""};if(o.intSearchTerms=this.keywords,o.SearchType="Product Search",o.SearchProductType=r(this.keywords,t)||"Product Name",o.intSearchCount=this.moduleGetterHitCount.toString(),this.searchPosition===X["a"].Solr?o.intSearchLoc="Masthead":o.intSearchLoc="Homepage",s.a.DTM.Lmd.trackInternalSearch(o),t.Id){var n={linkTrack:this.linkTrackType};n.linkTrack||delete n.linkTrack;var a=this.$parent;this.$emit("pHideResultBox",!1);var c=a.$el,i={id:t.Id,brand:t.Brand,serial:t.Serial||"",isChina:"undefined"==typeof t.IsChina?0:t.IsChina,isSupported:t.IsSupported};return this.SearchToRedirect(i.id,(function(){return s.a.LitePageLoader.capsRun(c,i,Object(f["a"])({},n))})),!1}this.setKeywords(t.Name),this.$emit("asyncSeach")}},{key:"clickAccessoryEvent",value:function(e,t){var r=t.Id;if(e){var o=e.currentTarget;o&&o.dataset.url&&(r=o.dataset.url)}window.location.href=s.a.UrlUtility.getFullPath("/accessorieslookup?partid=".concat(r))}},{key:"setSearchInput",value:function(e){var t=this;this.$nextTick((function(){if(t.$el){var r=t.$el.querySelector(".home-search-input input.typeahead.form-control");r&&(r.value=e)}}))}},{key:"processEnter",value:function(){var e=this;if(this.moduleGetterHitCount>1)if(this.defaultoPSP){var t=this.productsHit[0].Type===c["ProductType"].BrandGroup?1:0;if(this.selectedItemIndex){var r=this.productsHit.find((function(t){return t.Id===e.selectedItemIndex}))||this.productsHit[t];r.isAccessory?this.clickAccessoryEvent(null,r):this.clickProductEvent(null,r),this.setSearchInput(r.Name)}else this.productsHit[t].isAccessory?this.clickAccessoryEvent(null,this.productsHit[t]):this.clickProductEvent(null,this.productsHit[t]),this.setSearchInput(this.productsHit[t].Name)}else{var o=this.keywords,n="&SearchType=Customer search&searchLocation=";this.searchPosition==X["a"].Solr?n+="Masthead":n+="Homepage";var a="",i=s.a.UrlUtility.getUrlParam("Products");i&&(a+="&Products="+i),window.location.href=s.a.UrlUtility.getFullPath("/search?query="+encodeURIComponent(o)+n+a)}else this.$emit("asyncSeach")}},{key:"handleEnterEventChange",value:function(e,t){this.keywords&&(this.selectedItemType===X["b"].Product||this.isAlsoTigger)&&e!=t&&e&&(this.setEnterEvent(!1),this.processEnter())}},{key:"handleEOL_Click",value:function(e){"a"===e.target.nodeName.toLowerCase()&&ot.unifiedCustomInteractionTrack("eService: EOL link redirection")}}]),r}(Be["i"]);Object(Le["a"])([tt.State("allProducts")],at.prototype,"allProducts",void 0),Object(Le["a"])([tt.State("showNum")],at.prototype,"showNum",void 0),Object(Le["a"])([tt.State("productsHit")],at.prototype,"productsHit",void 0),Object(Le["a"])([tt.State("currentProduct")],at.prototype,"currentProduct",void 0),Object(Le["a"])([tt.Mutation("setCurrentProduct")],at.prototype,"setCurrentProduct",void 0),Object(Le["a"])([tt.Getter("hitCount")],at.prototype,"moduleGetterHitCount",void 0),Object(Le["a"])([tt.Getter("localEmptyMsg")],at.prototype,"moduleLocalEmptyMsg",void 0),Object(Le["a"])([tt.Getter("localSecondEmptyMsg")],at.prototype,"moduleLocal2ndEmptyMsg",void 0),Object(Le["a"])([rt.State("documentsHit")],at.prototype,"documentsHit",void 0),Object(Le["a"])([Object(Me["a"])("setEnterEvent")],at.prototype,"setEnterEvent",void 0),Object(Le["a"])([Object(Me["a"])("setKeywords")],at.prototype,"setKeywords",void 0),Object(Le["a"])([Object(Me["d"])("keywords")],at.prototype,"keywords",void 0),Object(Le["a"])([Object(Me["d"])("searchPosition")],at.prototype,"searchPosition",void 0),Object(Le["a"])([Object(Me["d"])("linkTrackType")],at.prototype,"linkTrackType",void 0),Object(Le["a"])([Object(Me["d"])("defaultoPSP")],at.prototype,"defaultoPSP",void 0),Object(Le["a"])([Object(Me["d"])("currentRealm")],at.prototype,"currentRealm",void 0),Object(Le["a"])([Object(Me["d"])("isSecondSearch")],at.prototype,"isSecondSearch",void 0),Object(Le["a"])([Object(Me["d"])("selectedItemIndex")],at.prototype,"selectedItemIndex",void 0),Object(Le["a"])([Object(Me["d"])("selectedItemType")],at.prototype,"selectedItemType",void 0),Object(Le["a"])([Object(Me["d"])("enterEvent")],at.prototype,"enterEvent",void 0),Object(Le["a"])([Object(Be["j"])("enterEvent")],at.prototype,"handleEnterEventChange",null),at=Object(Le["a"])([Object(Be["a"])({mixins:[qe]})],at);var ct=at,st=ct,it=Object(Ye["a"])(st,Ze,et,!1,null,null,null),ut=it.exports,lt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.searchPosition===e.searchPositionEnum.Home?r("div",{ref:"homeSearchInput",staticClass:"home-search-input"},[r("span",{staticClass:"twitter-typeahead",staticStyle:{position:"relative",display:"inline-block"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.inputValue,expression:"inputValue"}],ref:"searchInput",staticClass:"typeahead form-control",attrs:{type:"text",autocomplete:"off",spellcheck:"false","data-position":e.searchPosition,placeholder:e.placeholderByRelam},domProps:{value:e.inputValue},on:{focus:e.productOnFousEvent,click:e.productOnFousEvent,blur:e.handleInputBlur,keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.stopPropagation(),e.handleEnter(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.stopPropagation(),e.keyup(t,e.inputValue))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.stopPropagation(),e.keydown(t,e.inputValue))}],input:function(t){t.target.composing||(e.inputValue=t.target.value)}}}),e._t("default")],2),r("span",{class:{"icon-search":!0,"icon-active":e.isSearching},attrs:{"data-position":e.searchPosition},on:{click:e.handleEnter}}),r("br")]):r("div",{ref:"homeSearchInput",staticClass:"home-search-input"},[r("span",{staticClass:"twitter-typeahead",staticStyle:{position:"relative",display:"inline-block"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.inputValue,expression:"inputValue"}],ref:"searchInput",staticClass:"typeahead form-control",attrs:{type:"text",autocomplete:"off",spellcheck:"false","data-position":e.searchPosition,placeholder:e.placeholderByRelam},domProps:{value:e.inputValue},on:{focus:e.productOnFousEvent,click:e.productOnFousEvent,blur:e.handleInputBlur,keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.stopPropagation(),e.handleEnter(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.stopPropagation(),e.handleKeyup(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.stopPropagation(),e.handleKeydown(t))}],input:function(t){t.target.composing||(e.inputValue=t.target.value)}}})]),r("span",{class:{"icon-search-text":!0,"icon-text-active":e.isSearching},attrs:{"data-position":e.searchPosition},on:{click:e.handleEnter}},[e._v(e._s(e.t("Search|#SEARCH")))]),r("span",{staticClass:"solr-closed icon-s-close",on:{click:e.closeClickEvent}}),e._t("default"),r("br")],2)},dt=[],pt=(r("c740"),Object(Me["e"])("products")),ht=Object(Me["e"])("documents"),mt=function(e){Object(He["a"])(r,e);var t=Object(xe["a"])(r);function r(){var e;return Object(De["a"])(this,r),e=t.apply(this,arguments),e.searchPositionEnum=X["a"],e.isSearching=!1,e.resultKeywords="",e.openRst=!1,e}return Object(Ee["a"])(r,[{key:"mounted",value:function(){console.log("search input mounted")}},{key:"placeholderByRelam",get:function(){var e="",t=s.a.RealmType[this.currentRealm].toLocaleLowerCase(),r={all:"search placeholder|Search Support",pcg:"search pc support|Search PC Support",dcg:"search data center support|Search Data Center Support",mbg:"search mobile support|Search Mobile Support",moto:"search mobile support|Search Mobile Support",smart:"search smart support|Search Smart Support"};return e=s.a.Translator.translate(r[t||"all"]),$("#error-search").length&&$("#error-search").attr("placeholderText")&&(e=s.a.Translator.translate($("#error-search").attr("placeholderText")||"")),e}},{key:"inputValue",get:function(){return this.keywords},set:function(e){this.setKeywords(e)}},{key:"getMouseAtLast",value:function(e){var t=e.value?e.value.length:0;if(e.createTextRange){var r=e.createTextRange();r.collapse(!0),r.moveEnd("character",t),r.moveStart("character",t),r.select()}else e.setSelectionRange&&(e.focus(),e.setSelectionRange(t,t))}},{key:"productOnFousEvent",value:function(e){var t=this.keywords.replace(/(?:^\s+|\s+$)/g,"");if(t.length>1&&this.$emit("onToggleResult",!0),e.target){var r=this.inputValue;r.length>1&&(this.productsHit.length||this.documentsHit.length)}}},{key:"handleEnter",value:function(e){var t=this;this.currentRequestStatus?(this.setEnterEvent(!0),this.$nextTick((function(){t.$emit("onToggleResult",!0)}))):console.log("the search is loading, don't go to the second search.")}},{key:"handleKeydown",value:function(e){var t=this.selectedItemType,r=this.selectedItemIndex,o=!1;if(r||(this.productsHit.length?(r=this.productsHit[this.productsHit[0].Type===c["ProductType"].BrandGroup?1:0].Id,o=!0):this.documentsHit.length&&(r=this.documentsHit[0].ID,t=X["b"].Document,o=!0)),o){this.setSelectedItemIndex(r),this.setSelectedItemType(t);var n=t===X["b"].Product;this.setInputSelectedName(n?this.productsHit[this.productsHit[0].Type===c["ProductType"].BrandGroup?1:0].Name:this.documentsHit[0].Title)}else if(r){var a=!1;if(t===X["b"].Product&&r===this.productsHit[this.productsHit.length-1].Id)a=!0,this.documentsHit.length?(r=this.documentsHit[0].ID,t=X["b"].Document,this.setSelectedItemIndex(r),this.setSelectedItemType(t),this.setInputSelectedName(this.documentsHit[0].Title)):(this.setSelectedItemIndex(this.productsHit[0].Id),this.setInputSelectedName(this.productsHit[0].Name));else if(t===X["b"].Document&&r===this.documentsHit[this.documentsHit.length-1].ID)if(a=!0,this.productsHit.length){var s=this.productsHit[this.productsHit[0].Type===c["ProductType"].BrandGroup?1:0];r=s.Id,t=X["b"].Product,this.setSelectedItemIndex(r),this.setSelectedItemType(t),this.setInputSelectedName(s.Name)}else this.setSelectedItemIndex(this.documentsHit[0].ID),this.setInputSelectedName(this.documentsHit[0].Title);if(!a){var i=0,u=t===X["b"].Product,l=u?"productsHit":"documentsHit",d=u?"Id":"ID";i=this[l].findIndex((function(e){return e[d]&&e[d].toLowerCase()===(r+"").toLowerCase()})),i<0&&(i=0);var p=this[l],h=p[i+1].Type===c["ProductType"].BrandGroup,m=h?p[i+2]:p[i+1];r=m[d]+"",this.setSelectedItemIndex(r),this.setInputSelectedName(m[u?"Name":"Title"])}}}},{key:"handleKeyup",value:function(e){var t=this.selectedItemType,r=this.selectedItemIndex,o=!1;if(r||(this.productsHit.length?(r=this.productsHit[this.productsHit[0].Type===c["ProductType"].BrandGroup?1:0].Id,o=!0):this.documentsHit.length&&(r=this.documentsHit[0].ID,t=X["b"].Document,o=!0)),o){this.setSelectedItemIndex(r),this.setSelectedItemType(t);var n=t===X["b"].Product;this.setInputSelectedName(n?this.productsHit[this.productsHit[0].Type===c["ProductType"].BrandGroup?1:0].Name:this.documentsHit[0].Title)}else if(r){var a=!1,s=this.documentsHit.length-1,i=this.productsHit.length-1;if(t===X["b"].Product&&r===this.productsHit[this.productsHit[0].Type===c["ProductType"].BrandGroup?1:0].Id)a=!0,this.documentsHit.length?(r=this.documentsHit[s].ID,t=X["b"].Document,this.setSelectedItemIndex(r),this.setSelectedItemType(t),this.setInputSelectedName(this.documentsHit[s].Title)):(this.setSelectedItemIndex(this.productsHit[i].Id),this.setInputSelectedName(this.productsHit[i].Name));else if(t===X["b"].Document&&r===this.documentsHit[0].ID)if(a=!0,this.productsHit.length){var u=this.productsHit[this.productsHit[i].Type===c["ProductType"].BrandGroup?i-1:i];r=u.Id,t=X["b"].Product,this.setSelectedItemIndex(r),this.setSelectedItemType(t),this.setInputSelectedName(u.Name)}else this.setSelectedItemIndex(this.documentsHit[s].ID),this.setInputSelectedName(this.documentsHit[s].Title);if(!a){var l=0,d=t===X["b"].Product,p=d?"productsHit":"documentsHit",h=d?"Id":"ID";l=this[p].findIndex((function(e){return e[h]&&e[h].toLowerCase()===(r+"").toLowerCase()})),l<0&&(l=0);var m=this[p],y=m[l-1].Type===c["ProductType"].BrandGroup,f=y?m[l-2]:m[l-1];r=f[h]+"",this.setSelectedItemIndex(r),this.setInputSelectedName(f[d?"Name":"Title"])}}}},{key:"closeClickEvent",value:function(e){var t=document.querySelector("nav.navbar-first"),r=document.querySelector("ul.navbar-right"),o=document.querySelector("#solr-search"),n=!!(o.offsetWidth||o.offsetHeight||o.getClientRects().length);t&&r&&(n?(o.style.display="none",t.classList.remove("navbarshadow"),r.classList.remove("search-show")):(o.style.display="block",t.classList.add("navbarshadow"),r.classList.add("search-show")))}},{key:"setInputSelectedName",value:function(e){var t=this;this.$nextTick((function(){if(t.$refs.searchInput){var r=t.$refs.searchInput;r&&(r.value=e)}}))}},{key:"searchProductsAndDocs",value:function(){var e=this,t=this.SearchDebounce((function(){e.resultKeywords=e.inputValue,e.searchProductInLocal(e.inputValue),e.setKeywords(e.inputValue),e.searchDocumentsSync(e.inputValue)}),300);t()}},{key:"onKeywordsChanged",value:function(e,t){var r=this.$refs.homeSearchInput;r&&(r.offsetWidth||r.offsetHeight||r.getClientRects().length)&&(this.isSearching=!1,this.setCurrentRequestStatus(!1),e&&e.length>1?(this.searchProductsAndDocs(),this.$emit("onToggleResult",!0)):(this.setDocumentsHit([]),this.setProductsHit([]),this.$emit("onToggleResult",!1)))}},{key:"handleInputBlur",value:function(){this.$emit("pHideResultBox",!1)}}]),r}(Be["i"]);Object(Le["a"])([Object(Me["d"])("keywords")],mt.prototype,"keywords",void 0),Object(Le["a"])([Object(Me["d"])("searchPosition")],mt.prototype,"searchPosition",void 0),Object(Le["a"])([Object(Me["d"])("linkTrackType")],mt.prototype,"linkTrackType",void 0),Object(Le["a"])([Object(Me["d"])("currentRealm")],mt.prototype,"currentRealm",void 0),Object(Le["a"])([Object(Me["d"])("isSecondSearch")],mt.prototype,"isSecondSearch",void 0),Object(Le["a"])([Object(Me["d"])("selectedItemIndex")],mt.prototype,"selectedItemIndex",void 0),Object(Le["a"])([Object(Me["d"])("selectedItemType")],mt.prototype,"selectedItemType",void 0),Object(Le["a"])([Object(Me["d"])("currentRequestStatus")],mt.prototype,"currentRequestStatus",void 0),Object(Le["a"])([pt.State("productsHit")],mt.prototype,"productsHit",void 0),Object(Le["a"])([ht.State("documentsHit")],mt.prototype,"documentsHit",void 0),Object(Le["a"])([Object(Me["a"])("setKeywords")],mt.prototype,"setKeywords",void 0),Object(Le["a"])([Object(Me["a"])("setEnterEvent")],mt.prototype,"setEnterEvent",void 0),Object(Le["a"])([Object(Me["a"])("setSelectedItemIndex")],mt.prototype,"setSelectedItemIndex",void 0),Object(Le["a"])([Object(Me["a"])("setSelectedItemType")],mt.prototype,"setSelectedItemType",void 0),Object(Le["a"])([Object(Me["a"])("setCurrentRequestStatus")],mt.prototype,"setCurrentRequestStatus",void 0),Object(Le["a"])([Object(Me["a"])("setIsSecondSearch")],mt.prototype,"setIsSecondSearch",void 0),Object(Le["a"])([ht.Action("searchDocumentsSync")],mt.prototype,"searchDocumentsSync",void 0),Object(Le["a"])([pt.Action("searchProductInLocal")],mt.prototype,"searchProductInLocal",void 0),Object(Le["a"])([ht.Mutation("setDocumentsHit")],mt.prototype,"setDocumentsHit",void 0),Object(Le["a"])([pt.Mutation("setProductsHit")],mt.prototype,"setProductsHit",void 0),Object(Le["a"])([Object(Be["j"])("inputValue")],mt.prototype,"onKeywordsChanged",null),mt=Object(Le["a"])([Object(Be["a"])({mixins:[qe]})],mt);var yt=mt,ft=yt,gt=Object(Ye["a"])(ft,lt,dt,!1,null,null,null),vt=gt.exports,St=r("c5b8"),bt=c["DTM"].Lmd,kt=Object(Me["e"])("products"),Tt=Object(Me["e"])("documents"),Pt=function(e){Object(He["a"])(r,e);var t=Object(xe["a"])(r);function r(){var e;return Object(De["a"])(this,r),e=t.apply(this,arguments),e.searchPositionEnum=X["a"],e.resultKeywords="",e.blur=!1,e}return Object(Ee["a"])(r,[{key:"created",value:function(){this.initOriRootState({keywords:"",searchPosition:this.searchPosition,linkTrackType:this.linkTrackType,defaultoPSP:this.defaultoPSP}),this.getAllProducts()}},{key:"mounted",value:function(){console.log("search box mounted")}},{key:"handleToggleResult",value:function(e){this.blur=e}},{key:"isShow",get:function(){return!(!this.moduleDocsHitCount&&!this.moduleProductsHitCount)}},{key:"cStyle",get:function(){var e=this.blur?"block":"none";return{display:e}}},{key:"asyncSearchCallback",value:function(e,t){var r=this,o=function(){window["LSB_Flag"]?(console.log("LSB_Flag:",window["LSB_Flag"]),window["LSB_Flag"]=!1):bt.setSearchEventRecord({searchType:e[0].Type,keyWordSearch:t});var o="",n={id:e[0].Id,brand:e[0].Brand,serial:e[0].Serial||"",isChina:"undefined"==typeof e[0].IsChina?0:e[0].IsChina,isSupported:e[0].IsSupported},a={linkTrack:r.linkTrackType};a.linkTrack||delete a.linkTrack,o&&(a["tabName"]=o);var i=function(e){var t=s.a.DTM.Lmd.dicSearchType.ProductName;return e.Type===c["ProductType"].Model&&(t="MTM"),e.Type===c["ProductType"].Serial&&(t="Serial Number"),t},u={intSearchTerms:"",SearchType:"",SearchProductType:"",intSearchCount:"",intSearchLoc:""};u.intSearchTerms=t,u.SearchType="Product Search",u.SearchProductType=i(e[0])||"Product Name",u.intSearchCount=e.length.toString(),r.searchPosition==X["a"].Solr?u.intSearchLoc="Masthead":u.intSearchLoc="Homepage",s.a.DTM.Lmd.trackInternalSearch(u);var l=r.$el;r.SearchToRedirect(n.id,(function(){return s.a.LitePageLoader.capsRun(l,n,Object(f["a"])({},a))}))};!window["ConfirmCurrentProduct"]||window.document.querySelector("#showConfirmFlag")&&!Number(window.document.querySelector("#showConfirmFlag").innerText)?o():window["ConfirmCurrentProduct"](e,o)}},{key:"handleMouseOver",value:function(){}},{key:"handleAsyncSearch",value:function(){var e=this;this.blur=!1;for(var t=this.keywords,r=this.keywords.split("."),o="",n=0;n<r.length;n++)0===n?o=Object(St["O"])(r[n])?r[n]:r[n].replace(/\-/g,""):o+=".".concat(r[n]);this.searchProductSync(o).then((function(r){if(r&&Array.isArray(r)&&r.length){if(1===r.length){if(r[0].isAccessory&&r[0].id)return window.location.href=s.a.UrlUtility.getFullPath("/accessorieslookup?partid="+r[0].id),!1;if(!r[0].Brand&&("undefined"===typeof r[0].IsSupported||r[0].IsSupported)){s.a.DTM.Lmd.pusherrorinfTrack("Product Search","Product not found",!0);var o="&SearchType=Customer search&searchLocation=";e.searchPosition==X["a"].Solr?o+="Masthead":o+="Homepage";var n="",a=s.a.UrlUtility.getUrlParam("Products");return a&&(n+="&Products="+a),void(window.location.href=s.a.UrlUtility.getFullPath("/search?query="+encodeURIComponent(t)+o+n))}e.asyncSearchCallback(r,t)}}else{s.a.DTM.Lmd.pusherrorinfTrack("Product Search","Product not found",!0);o="&SearchType=Customer search&searchLocation=";e.searchPosition==X["a"].Solr?o+="Masthead":o+="Homepage";n="",a=s.a.UrlUtility.getUrlParam("Products");a&&(n+="&Products="+a),window.location.href=s.a.UrlUtility.getFullPath("/search?query="+encodeURIComponent(t)+o+n)}}))}}]),r}(Be["i"]);Object(Le["a"])([Object(Be["f"])({type:Number,required:!1})],Pt.prototype,"searchPosition",void 0),Object(Le["a"])([Object(Be["f"])({type:String,required:!1})],Pt.prototype,"linkTrackType",void 0),Object(Le["a"])([Object(Be["f"])({type:Boolean,required:!1,default:!0})],Pt.prototype,"defaultoPSP",void 0),Object(Le["a"])([Object(Me["d"])("keywords")],Pt.prototype,"keywords",void 0),Object(Le["a"])([Object(Me["d"])("currentRealm")],Pt.prototype,"currentRealm",void 0),Object(Le["a"])([Object(Me["a"])("initOriRootState")],Pt.prototype,"initOriRootState",void 0),Object(Le["a"])([Tt.Getter("hitCount")],Pt.prototype,"moduleDocsHitCount",void 0),Object(Le["a"])([kt.Getter("hitCount")],Pt.prototype,"moduleProductsHitCount",void 0),Object(Le["a"])([kt.Action("init")],Pt.prototype,"getAllProducts",void 0),Object(Le["a"])([kt.Action("searchProductSync")],Pt.prototype,"searchProductSync",void 0),Object(Le["a"])([Object(Me["a"])("setIsSecondSearch")],Pt.prototype,"setIsSecondSearch",void 0),Pt=Object(Le["a"])([Object(Be["a"])({mixins:[qe],components:{DocumentsResult:Xe,ProductsResult:ut,SearchInput:vt}})],Pt);var wt=Pt,Ct=wt,Ot=Object(Ye["a"])(Ct,je,Re,!1,null,null,null),It=Ot.exports,jt={pcg:It};function Rt(){var e=c["RealmType"][s.a.Common.getCurrentRealm()];return e?(e=e.toLowerCase(),jt[e]||jt["pcg"]):{}}var Dt=Rt();Object(d["a"])(u.a);var Et=c["DTM"].Lmd,Ht=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Et.linkTrackTypeValue(s.a.LinkTrackType.HomeSearchProducts),o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Oe;new u.a({store:n,render:function(e){return e(Dt,{props:{searchPosition:t,linkTrackType:r,defaultoPSP:o}})}}).$mount(e)},xt=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Et.linkTrackTypeValue(s.a.LinkTrackType.HomeSearchProducts),o=arguments.length>3?arguments[3]:void 0,n=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];Ht(e,t,r,n),o&&o(e)},Lt=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Et.linkTrackTypeValue(s.a.LinkTrackType.HomeSearchProducts),o=arguments.length>3?arguments[3]:void 0,n=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ie;Ht(e,t,r,n,a),o&&o(e)};window["lenovo-solr-typeahead"]=function(e,t,r){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];xt(e,X["a"].Solr,t,r,o)},window["lenovo-home-typeahead"]=function(e,t,r){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];xt(e,X["a"].Home,t,r,o)},window["lenovo-search-independent"]=function(e,t,r,o){var n=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];Lt(e,t,r,o,n)},a()(".showSearchBox").on("click",(function(e){var t=a()("#solr-search").css("display");"none"==t?(a()("#solr-search").css("display","block"),a()("#solr-search").find("input.form-control").focus(),a()("ul.navbar-right").addClass("search-show")):(a()("#solr-search").css("display","none"),a()("ul.navbar-right").removeClass("search-show"))})),window.onscroll=function(){var e=document.documentElement.scrollTop;if(0===e){var t=a()("#solr-search").css("display"),r=a()("nav.navbarshadow").length;"block"==t&&r<1&&a()("nav.navbar-first").addClass("navbarshadow")}},function(){if("function"===typeof window.CustomEvent)return!1;function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var r=document.createEvent("CustomEvent");return r.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),r}e.prototype=Event.prototype,window.CustomEvent=e}(),a()((function(){var e=function(e){var t=!!c["MobileDetectControl"].mobileResource.mobile(),r=a()(e).attr("id");!t&&"solr-search-mobile"===r||t&&"solr-search"===r||window["newSearchBox"]||(window["newSearchBox"]={autoSearch:function(e,r){var o=a()(t?"#solr-search-mobile":"#solr-search"),n=function(){a()("#solr-search").css("display","block"),a()("nav.navbar-first").addClass("navbarshadow"),a()("ul.navbar-right").addClass("search-show")};function s(e,t){if(e){var r=Object.getOwnPropertyDescriptor(e,"value").set,o=Object.getPrototypeOf(e),n=Object.getOwnPropertyDescriptor(o,"value").set;r&&r!==n?n.call(e,t):r.call(e,t)}}n();var i=o.find(".typeahead.form-control")[0];if(s(i,e),i){var u=new window.CustomEvent("change",{bubbles:!0});i.dispatchEvent(u),window["newSearch_isAutoShowResult"]=!!r,a()(document).ajaxComplete((function(e,t,r){if(/\/autosuggest/i.test(r.url||"")){var o="undefined"!==typeof window["newSearch_isAutoShowResult"]&&!window["newSearch_isAutoShowResult"];if(o){var n=c["MobileDetectControl"].mobileResource.mobile()?"#solr-search-mobile":"#solr-search";a()("".concat(n," .home_searchResult.search_row")).hide(),delete window["newSearch_isAutoShowResult"]}}}))}}})};P().then((function(){a()("#error-search").length>0&&Lt(a()("#error-search >div:first").get(0),X["a"].Home),a()("#solr-search").length>0&&xt(a()("#solr-search >div:first").get(0),X["a"].Solr,"",e),a()("#solr-search-home").length>0&&xt(a()("#solr-search-home >div:first").get(0),X["a"].Solr,"",e),a()("#solr-search-mobile").length>0&&xt(a()("#solr-search-mobile >div:first").get(0),X["a"].Solr,"",e)})).catch((function(e){return console.error("Failed to get all products",e),null}))}))},5880:function(e,t){e.exports=Vuex},"60bb":function(e,t){e.exports=_},7259:function(e,t){e.exports=l},"8bbf":function(e,t){e.exports=Vue},a9c9:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return a}));var o,n,a;(function(e){e[e["Home"]=0]="Home",e[e["Solr"]=1]="Solr"})(o||(o={})),function(e){e[e["Hybrid"]=0]="Hybrid",e[e["Normal"]=1]="Normal"}(n||(n={})),function(e){e[e["Product"]=0]="Product",e[e["Document"]=1]="Document"}(a||(a={}))},c5e1:function(e,t){e.exports=$},cebe:function(e,t){e.exports=axios}});
//# sourceMappingURL=app-8aeed4a9.min.js.map